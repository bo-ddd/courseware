#### day2

> 大纲：
>
> 1. 上传相关知识点
> 2. 下载
> 3. excel

### 知识点总汇

1.  js 基础面试题
2. html基础面试题
3. css基础面试题
4. vue基础
5. ajax 
6. es6相关知识点
7. web开发的兼容性
8. 技术栈有哪些  对应的每个技术栈都有什么内容
9. 跨域相关
10. http
11. 异步回调地狱的解决方案等....
12. 表达自己的项目所做的模块的完整性
13. jquery相关的必备语法
14. webpack配置相关的一些知识点；



###  导航守卫的应用场景

1.  导航守卫是用来在跳转路由之前进行判断，一般是用来对角色管理进行权限判断
2. 例如： 如果是客户端，直接拿到某供应商的店铺管理的url地址，如果他直接去访问，则会跳转到该页面去，然后我们通过axios拦截器，去调用服务端的获取店铺接口，该接口最后返回没有权限访问， 紧接着在跳出当前页面；
3. 如果你看懂上面的流程后，你会发现一个非常不好的用户体验，是什么呢？
4. 客户本身没有办法去访问商家的店铺管理，但是我们让客户跳转到了商品的店铺管理页面，这本身就不合理；
5. 此时我们就需要在用户进入店铺之前，利用导航守卫 直接判断该用户的权限 ，如果没有，直接页面不都不让他跳转
6. 这就是他的应用场景之一
7. 应用场景之二是： 为了极致的用户体验，有的人喜欢把 created()或者mounted()之前的所有逻辑，写到跳转路由之前去加载；
8. 这样用有一个问题，代码可读性变差，
9. 其实在vue3中自带解决此方案的问题，
10. 所以如果你遇到这种写法，他只适用于vue2.x
11. 总结 ： 1. 用来判断角色权限，根据不同的角色，进行不同的拦截 2：可以把created,mounted()钩子函数的逻辑，放在组件导航守卫中，以提高页面的性能；

#### 能说一下你对this指向的理解吗？

答：在js中，谁调用，this就是谁；

####  你知道call,apply，bind的作用及应用场景吗？

答： 

#### 如何改变this指向？

答： call ,apply,bind

#### 你知道call,apply,bind的区别吗？

答： 

####  在你的项目中，如何做上传的？

答： 上传文件时，我们是用流的方式来上传；

上传时，前端利用 new FormData()对象，把文件内容放在此对象中，发给服务端；

上传时，用的格式，不是application/json 而是 multpart/form-data

```javascript
var vm = new Vue({
    data(){
        
    },
    methods:{
        upload(){
            let formData = new FormData();
            //this.file，就是我们上传过后的那个文件
            formData.append('file',this.file); 
            let res = await uploadAvatar(formData)
            if(res.status == 1){
                alert('上传成功')
            }
        }
    }
})
```

#### 下载

答： 下载时，是请求服务端的接口，该接口是get请求，

```html
<a href="www.lol.com/download">下载</a>
```

#### 导出

1. echarts导出，他是echarts自带的导出图的方法；直接调用echarts API就可以实现
2. 还有一种通常在后台管理中，导出的是excel文件；
3. 导出如何做？ 通常情况下，我们在vue项目中，用到了一个excel组件，该组件（xlsx）就可以自定义导出的内容；
4. 如何自定义导出的表头？
5. 方法一：页面中展示一个与产品需求对应的table，自己在创建一个页面中看不见的和导出时长的一模一样的table，只是这个看不见，被隐藏掉了，用户导出的时候，导出的其实是看不见的这个表格；
6. 方法二：利用原生js，克隆表格的dom元素，用原生js，删除或者修改被克隆的表格，进行导出

#### 项目相关的疑难杂症

1. 你们C端项目上线了吗？

2. 上线了多长时间，

3. 我可以访问你的线上地址吗？

4. 你做这个项目多长时间了？

   1. 一般情况下，一个项目在6-15 - 24个月之间都ok；
   2. 比如你做的主要项目，可以说在15-20个月左右，你做的项目，最少要说4-6-8个模块 
   3. 但是你刚介入一个项目，通常情况下在2-3-4-5-6个月；

5. 你们做两个模块需要维护这么长时间吗？

   ​	如果一个面试官问这道题的时候，你就很危险了；

   ​	如果问你这些题，就是觉得你说的有问题了；

#### 项目模块的开发时长相关？

正常情况下，你去维护一个模块，可以维护好长时间，因为一个模块本质上可以 说成是一个单独的项目， 只是使用人群的类型不一样，就造成的 工作量也不一样； 用户只要有需求，开发就可以在上面加需求； 需求是无止境的；

通常情况下，我们做项目时，可以说4-6个模块；

开发时间一般控制在6-15-20个月之间；

####  3年内你一共换过几家公司？

一般情况下是1-2家，最好是1家，因为你换的公司越少， 公司觉得你的稳定性越高

如果你面试京东，阿里，百度，相关的大公司， 他会要求5年内最多从适2家公司，如果在多，他就不会要你；

所以，你要你做的项目中，一定要够维持3年；

一般情况下可以多说几个项目， 一般情况下， 3年可以做到4-6个项目，项目的类型几乎都差不多，

一般情况下，都是B端 和C端； 

一般情况下，项目并不是 维护完一个在维护另外 一个，几乎可以是同时开发；

#### 项目迭代周期

平均是一个月一次大版本更新，中间有可能参杂一次小版本更新；

#### 需求评审的时长

一般情况下，后台管理项目，一个table 表格  + 分页是 0.5人天  加上搜索校验相关的 0.5-1人天不等；通常情况下还会有0.5人天和服务端连调的时间； 所以你看见的一个正常的不太复杂的列表渲染，通常情况下是1.5人天 

如果遇到相对来说比较复杂的增加相关的东西，其中业务逻辑相对复杂 ，不止是渲染一个列表这么简单，通常情况下是2-4人天，具体时长根据不同的项目和业务需求来定；